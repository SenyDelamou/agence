<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>R√©initialisation du mot de passe - Voyage √âl√©gance</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
</head>

<body class="login-page">
    <!-- Navigation -->
    <nav class="navbar">
        <div class="container">
            <div class="nav-brand">
                <a href="acceuil.html" style="text-decoration: none; color: inherit;">
                    <h1>‚úàÔ∏è Voyage √âl√©gance</h1>
                </a>
            </div>
           
            <div style="display: flex; align-items: center; gap: 1rem;">
                <button class="theme-toggle" id="themeToggle" aria-label="Changer de th√®me" title="Changer de th√®me">
                    <span id="themeIcon">üåô</span>
                </button>
                <div class="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
        </div>
    </nav>

    <div class="login-container">
        <div class="login-wrapper">
            <div class="login-left">
                <div class="login-brand">
                    <h1>‚úàÔ∏è Voyage √âl√©gance</h1>
                    <p class="brand-subtitle">R√©initialisez votre mot de passe en toute s√©curit√©</p>
                </div>
                <div class="login-illustration">
                    <div class="illustration-circle circle-1"></div>
                    <div class="illustration-circle circle-2"></div>
                    <div class="illustration-circle circle-3"></div>
                    <div class="illustration-icon">üîê</div>
                </div>
                <div class="login-features">
                    <div class="feature-item">
                        <span class="feature-icon">üîí</span>
                        <span>R√©initialisation s√©curis√©e</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚úâÔ∏è</span>
                        <span>Confirmation par email</span>
                    </div>
                    <div class="feature-item">
                        <span class="feature-icon">‚ö°</span>
                        <span>Processus rapide</span>
                    </div>
                </div>
            </div>

            <div class="login-right">
                <div class="login-box">
                    <div class="login-header">
                        <h2>R√©initialiser le mot de passe</h2>
                        <p>Entrez votre email et votre nouveau mot de passe</p>
                    </div>

                    <form class="login-form" id="resetPasswordForm">
                        <div class="form-group">
                            <label for="email">Adresse Email *</label>
                            <div class="input-wrapper">
                                <span class="input-icon">‚úâÔ∏è</span>
                                <input type="email" id="email" name="email" placeholder="votre.email@exemple.com"
                                    required autocomplete="email">
                            </div>
                        </div>

                        <div class="form-group">
                            <label for="password">Nouveau mot de passe *</label>
                            <div class="input-wrapper">
                                <span class="input-icon">üîí</span>
                                <input type="password" id="password" name="password" placeholder="Minimum 8 caract√®res"
                                    required autocomplete="new-password" minlength="8">
                                <button type="button" class="password-toggle" id="passwordToggle"
                                    aria-label="Afficher/Masquer le mot de passe">
                                    <span class="eye-icon">üëÅÔ∏è</span>
                                </button>
                            </div>
                            <small class="password-hint">Le mot de passe doit contenir au moins 8 caract√®res</small>
                        </div>

                        <div class="form-group">
                            <label for="confirm-password">Confirmer le nouveau mot de passe *</label>
                            <div class="input-wrapper">
                                <span class="input-icon">üîí</span>
                                <input type="password" id="confirm-password" name="confirm-password"
                                    placeholder="R√©p√©tez votre mot de passe" required autocomplete="new-password">
                                <button type="button" class="password-toggle" id="confirmPasswordToggle"
                                    aria-label="Afficher/Masquer le mot de passe">
                                    <span class="eye-icon">üëÅÔ∏è</span>
                                </button>
                            </div>
                        </div>

                        <button type="submit" class="btn btn-primary btn-login">
                            <span>R√©initialiser le mot de passe</span>
                            <span class="btn-loader"></span>
                        </button>

                        <div class="login-footer">
                            <p>Vous vous souvenez de votre mot de passe ? <a href="index.html">Se connecter</a></p>
                        </div>
                    </form>
                </div>

                <div class="back-home">
                    <a href="acceuil.html" class="back-link">
                        <span>‚Üê</span>
                        <span>Retour √† l'accueil</span>
                    </a>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Mobile menu toggle
        const hamburger = document.querySelector('.hamburger');
        const navMenu = document.querySelector('.nav-menu');

        if (hamburger && navMenu) {
            hamburger.addEventListener('click', () => {
                navMenu.classList.toggle('active');
                hamburger.classList.toggle('active');
            });

            // Close menu when clicking on a link
            document.querySelectorAll('.nav-menu a').forEach(link => {
                link.addEventListener('click', () => {
                    navMenu.classList.remove('active');
                    hamburger.classList.remove('active');
                });
            });
        }

        // Navbar scroll effect
        window.addEventListener('scroll', () => {
            const navbar = document.querySelector('.navbar');
            if (navbar && window.scrollY > 100) {
                navbar.classList.add('scrolled');
            } else if (navbar) {
                navbar.classList.remove('scrolled');
            }
        });

        // Password toggle
        const passwordToggle = document.getElementById('passwordToggle');
        const confirmPasswordToggle = document.getElementById('confirmPasswordToggle');
        const passwordInput = document.getElementById('password');
        const confirmPasswordInput = document.getElementById('confirm-password');

        if (passwordToggle && passwordInput) {
            passwordToggle.addEventListener('click', () => {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                passwordToggle.classList.toggle('active');
            });
        }

        if (confirmPasswordToggle && confirmPasswordInput) {
            confirmPasswordToggle.addEventListener('click', () => {
                const type = confirmPasswordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                confirmPasswordInput.setAttribute('type', type);
                confirmPasswordToggle.classList.toggle('active');
            });
        }

        // Form submission
        const resetPasswordForm = document.getElementById('resetPasswordForm');
        if (resetPasswordForm) {
            resetPasswordForm.addEventListener('submit', (e) => {
                e.preventDefault();

                const email = document.getElementById('email').value;
                const password = passwordInput.value;
                const confirmPassword = confirmPasswordInput.value;
                const submitBtn = resetPasswordForm.querySelector('.btn-login');
                const loader = submitBtn ? submitBtn.querySelector('.btn-loader') : null;

                // Validate required fields
                if (!email || !password || !confirmPassword) {
                    alert('Veuillez remplir tous les champs obligatoires.');
                    return;
                }

                // Validate email format
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                if (!emailRegex.test(email)) {
                    alert('Veuillez entrer une adresse email valide.');
                    document.getElementById('email').focus();
                    return;
                }

                // Validate passwords match
                if (password !== confirmPassword) {
                    alert('Les mots de passe ne correspondent pas. Veuillez r√©essayer.');
                    confirmPasswordInput.focus();
                    return;
                }

                // Validate password length
                if (password.length < 8) {
                    alert('Le mot de passe doit contenir au moins 8 caract√®res.');
                    passwordInput.focus();
                    return;
                }

                // Show loading state
                if (submitBtn && loader) {
                    submitBtn.classList.add('loading');
                    loader.style.display = 'block';
                    submitBtn.disabled = true;
                }

                // Simulate API call
                setTimeout(() => {
                    if (submitBtn && loader) {
                        submitBtn.classList.remove('loading');
                        loader.style.display = 'none';
                        submitBtn.disabled = false;
                    }

                    alert(`Mot de passe r√©initialis√© avec succ√®s !\n\nUn email de confirmation a √©t√© envoy√© √† ${email}\n\nVous pouvez maintenant vous connecter avec votre nouveau mot de passe.\n\n(Note: Ceci est une d√©mo. Dans une vraie application, vous seriez redirig√© vers la page de connexion.)`);

                    // Redirect to login page after successful reset
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 2000);
                }, 1500);
            });
        }

        // Real-time password confirmation validation
        if (confirmPasswordInput) {
            confirmPasswordInput.addEventListener('input', () => {
                if (confirmPasswordInput.value && passwordInput.value) {
                    if (confirmPasswordInput.value !== passwordInput.value) {
                        confirmPasswordInput.setCustomValidity('Les mots de passe ne correspondent pas');
                        confirmPasswordInput.style.borderColor = '#f5576c';
                    } else {
                        confirmPasswordInput.setCustomValidity('');
                        confirmPasswordInput.style.borderColor = '#43e97b';
                    }
                }
            });

            passwordInput.addEventListener('input', () => {
                if (confirmPasswordInput.value && passwordInput.value) {
                    if (confirmPasswordInput.value !== passwordInput.value) {
                        confirmPasswordInput.setCustomValidity('Les mots de passe ne correspondent pas');
                        confirmPasswordInput.style.borderColor = '#f5576c';
                    } else {
                        confirmPasswordInput.setCustomValidity('');
                        confirmPasswordInput.style.borderColor = '#43e97b';
                    }
                }
            });
        }

        // Theme Toggle Functionality
        const themeToggle = document.getElementById('themeToggle');
        const themeIcon = document.getElementById('themeIcon');
        const html = document.documentElement;

        // Load saved theme or default to light
        const savedTheme = localStorage.getItem('theme') || 'light';
        html.setAttribute('data-theme', savedTheme);
        if (savedTheme === 'dark') {
            themeIcon.textContent = '‚òÄÔ∏è';
        } else {
            themeIcon.textContent = 'üåô';
        }

        // Toggle theme on button click
        if (themeToggle) {
            themeToggle.addEventListener('click', () => {
                const currentTheme = html.getAttribute('data-theme');
                const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
                
                html.setAttribute('data-theme', newTheme);
                localStorage.setItem('theme', newTheme);
                
                // Update icon
                themeIcon.textContent = newTheme === 'dark' ? '‚òÄÔ∏è' : 'üåô';
            });
        }
    </script>
</body>

</html>

